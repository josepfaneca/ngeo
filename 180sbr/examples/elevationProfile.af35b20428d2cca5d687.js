webpackJsonp([36],{446:function(t,e,i){i(10),t.exports=i(447)},447:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(448),i(11);h(i(82));var o=h(i(16)),n=h(i(13)),a=h(i(18)),r=(h(i(40)),h(i(35))),s=h(i(27)),l=h(i(53)),d=h(i(28)),p=h(i(59)),u=h(i(26)),f=(h(i(1)),h(i(17))),c=h(i(303));function h(t){return t&&t.__esModule?t:{default:t}}var g={};g.module=angular.module("app",[f.default.name,c.default.name]),g.MainController=function(t,e){var i=this;this.scope_=e;var f=new u.default;this.map=new n.default({layers:[new l.default({source:new p.default({url:"http://wms.geo.admin.ch/",crossOrigin:"anonymous",attributions:'&copy; <a href="http://www.geo.admin.ch/internet/geoportal/en/home.html">Pixelmap 1:500000 / geo.admin.ch</a>',params:{LAYERS:"ch.swisstopo.pixelkarte-farbe-pk1000.noscale",FORMAT:"image/jpeg"},serverType:"mapserver"})}),new d.default({source:f})],view:new a.default({projection:"EPSG:21781",extent:[42e4,3e4,9e5,35e4],zoom:0,center:[0,0]})});var c=this.map,h=new d.default({source:new u.default});this.snappedPoint_=new o.default,h.getSource().addFeature(this.snappedPoint_),h.setMap(c),this.profilePoisData=[{sort:1,dist:1e3,title:"First POI",id:12345},{sort:2,dist:3e3,title:"Second POI",id:12346}],this.profileData=void 0,t.get("data/profile.json").then(function(t){var e=t.data.profile;i.profileData=e;var n=void 0,a=e.length,s=new r.default([],"XYM");for(n=0;n<a;n++){var l=e[n];s.appendCoordinate([l.x,l.y,l.dist])}f.addFeature(new o.default(s));var d=i.map.getSize();c.getView().fit(f.getExtent(),{size:d})}),c.on("pointermove",function(t){if(!t.dragging){var e=c.getEventCoordinate(t.originalEvent);i.snapToGeometry(e,f.getFeatures()[0].getGeometry())}});var g=function(t,e,i){return function(t){return void 0!==i&&(t=t[i]),t[e]}},m=g(0,"dist"),v={line1:{style:{},zExtractor:g(0,"mnt","values")}},w={sort:g(0,"sort"),id:g(0,"id"),dist:g(0,"dist"),title:g(0,"title"),z:function(t,e){return void 0!==e&&(t.z=e),t.z}},y=function(t){this.point=t,this.snappedPoint_.setGeometry(new s.default([t.x,t.y]))}.bind(this),C=function(){this.point=null,this.snappedPoint_.setGeometry(null)}.bind(this);this.profileOptions={distanceExtractor:m,linesConfiguration:v,poiExtractor:w,hoverCallback:y,outCallback:C},this.point=null,this.profileHighlight=void 0},g.MainController.$inject=["$http","$scope"],g.MainController.prototype.snapToGeometry=function(t,e){var i=e.getClosestPoint(t),o=i[0]-t[0],n=i[1]-t[1],a=Math.sqrt(o*o+n*n)/this.map.getView().getResolution();this.profileHighlight=a<8?i[2]:-1,this.scope_.$apply()},g.module.controller("MainController",g.MainController),e.default=g},448:function(t,e){}},[446]);
//# sourceMappingURL=elevationProfile.af35b20428d2cca5d687.js.map